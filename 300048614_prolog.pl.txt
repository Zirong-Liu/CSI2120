% <-----------------------------------------------------------  GIVEN CODE  ----------------------------------------------------------------------------------------------------------------------------->

sudoku([[2,1,4,3],[4,3,2,1],[1,2,3,4],[3,4,1,2]]).
sudoku([[2,1,4,3],[4,3,2,1],[1,2,3,3],[3,4,1,2]]).


% <-------------------------------------------------------------- PART A -------------------------------------------------------------------------------------------------------------------------->
different([]).
different([H|T]):- not(member(H,T)), different(T).


% <-------------------------------------------------------------- PART B -------------------------------------------------------------------------------------------------------------------------->
extract4Columns(M,L):- extractHelper(M,1,A), extractHelper(M,2,B), extractHelper(M,3,C), extractHelper(M,4,D), L = [A,B,C,D].

extractHelper([],_,[]).
extractHelper([H|T],I,[E|ResT]):- extractHelper(T,I,ResT), nth1(I,H,E).



% <-------------------------------------------------------------- PART C -------------------------------------------------------------------------------------------------------------------------->
extract4Quadrant(M,L):- nth1(1,M,R1), nth1(2,M,R2), nth1(3,M,R3), nth1(4,M,R4), nth1(1,R1,A1), nth1(2,R1,A2), nth1(1,R2,A3), nth1(2,R2,A4),
						nth1(3,R1,B1), nth1(4,R1,B2), nth1(3,R2,B3), nth1(4,R2,B4), nth1(1,R3,C1), nth1(2,R3,C2), nth1(1,R4,C3), nth1(2,R4,C4),    					
						nth1(3,R3,D1), nth1(4,R3,D2), nth1(3,R4,D3), nth1(4,R4,D4), A = [A1,A2,A3,A4], B = [B1,B2,B3,B4], 
    					C = [C1,C2,C3,C4], D = [D1,D2,D3,D4], L = [A,B,C,D].



% <-------------------------------------------------------------- PART D -------------------------------------------------------------------------------------------------------------------------->
checkSudoku(M):- extract4Columns(M,L1), extract4Quadrant(M,L2), append(M,L1,Mn), append(Mn,L2,N), check_different(N).

% Helper for part D
check_different([]).
check_different([H|T]):- different(H), check_different(T).

